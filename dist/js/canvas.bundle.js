!function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var r=i.p+"ffab39d3487de561be1a081fcfb3806d.png",n=i.p+"cfffe4c371f5e11d372b398a87c51dd0.png",s=i.p+"072d51bcc9c09311d4c2a6708b05bddc.png",o=i.p+"0587f9be8e442eb74b2fe283bbf1a947.png",h=i.p+"c67ea51444aafa9bdcd5bdfd4f4a55bb.png",p=i.p+"a2f75989924952a7e49ce0405d487c93.png",c=i.p+"11514f48f22f6d8e3cf748e45e3e1ffb.png",a=i.p+"01e8f15e899155c68950c40e0a6b8df0.png";function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,i){return e&&f(t.prototype,e),i&&f(t,i),t}var l=document.querySelector("canvas");console.log(l);var g=l.getContext("2d");l.width=1024,l.height=576;var y,w=function(){function t(){d(this,t),this.speed=10,this.position={x:100,y:100},this.velocity={x:0,y:0},this.width=66,this.height=150,this.image=j(a),this.frames=0,this.sprites={stand:{right:j(a),left:j(c),cropWidth:177,width:66},run:{right:j(p),left:j(h),cropWidth:341,width:127.875}},this.currentSprite=this.sprites.stand.right,this.currentCropWidth=177}return u(t,[{key:"draw",value:function(){g.drawImage(this.currentSprite,this.currentCropWidth*this.frames,0,this.currentCropWidth,400,this.position.x,this.position.y,this.width,this.height)}},{key:"update",value:function(){this.frames++,(this.frames>59&&(this.currentSprite===this.sprites.stand.right||this.currentSprite===this.sprites.stand.left)||this.frames>29&&(this.currentSprite===this.sprites.run.right||this.currentSprite===this.sprites.run.left))&&(this.frames=0),this.draw(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.position.y+this.height+this.velocity.y<=l.height&&(this.velocity.y+=.5)}}]),t}(),b=function(){function t(e){var i=e.x,r=e.y,n=e.image;d(this,t),this.position={x:i,y:r},this.image=n,this.width=n.width,this.height=n.height}return u(t,[{key:"draw",value:function(){g.drawImage(this.image,this.position.x,this.position.y)}}]),t}(),x=function(){function t(e){var i=e.x,r=e.y,n=e.image;d(this,t),this.position={x:i,y:r},this.image=n,this.width=n.width,this.height=n.height}return u(t,[{key:"draw",value:function(){g.drawImage(this.image,this.position.x,this.position.y)}}]),t}(),m=j(r),v=j(o),S=new w,k=[],W=[],C={right:{pressed:!1},left:{pressed:!1}},E=0;function j(t){var e=new Image;return e.src=t,e}function O(){m=j(r),S=new w,k=[new b({x:4*m.width+300-2+m.width-v.width,y:270,image:j(o)}),new b({x:-1,y:470,image:m}),new b({x:m.width-3,y:470,image:m}),new b({x:2*m.width+100,y:470,image:m}),new b({x:3*m.width+300,y:470,image:m}),new b({x:4*m.width+300-2,y:470,image:m}),new b({x:5*m.width+800-2,y:470,image:m})],W=[new x({x:-1,y:-1,image:j(s)}),new x({x:-1,y:-1,image:j(n)})],E=0}O(),function t(){requestAnimationFrame(t),g.fillStyle="white",g.fillRect(0,0,l.width,l.height),W.forEach((function(t){t.draw()})),k.forEach((function(t){t.draw()})),S.update(),C.right.pressed&&S.position.x<400?S.velocity.x=S.speed:C.left.pressed&&S.position.x>100||C.left.pressed&&0===E&&S.position.x>0?S.velocity.x=-S.speed:(S.velocity.x=0,C.right.pressed?(E+=S.speed,k.forEach((function(t){t.position.x-=S.speed})),W.forEach((function(t){t.position.x-=.66*S.speed}))):C.left.pressed&&E>0&&(E-=S.speed,k.forEach((function(t){t.position.x+=S.speed})),W.forEach((function(t){t.position.x+=.66*S.speed})))),k.forEach((function(t){S.position.y+S.height<=t.position.y&&S.position.y+S.height+S.velocity.y>=t.position.y&&S.width+S.position.x>=t.position.x&&S.position.x<=t.position.x+t.width&&(S.velocity.y=0)})),C.right.pressed&&"right"===y&&S.currentSprite!==S.sprites.run.right?(S.frames=1,S.currentSprite=S.sprites.run.right,S.currentCropWidth=S.sprites.run.cropWidth,S.width=S.sprites.run.width):C.left.pressed&&"left"===y&&S.currentSprite!==S.sprites.run.left?(S.currentSprite=S.sprites.run.left,S.currentCropWidth=S.sprites.run.cropWidth,S.width=S.sprites.run.width):C.left.pressed||"left"!==y||S.currentSprite===S.sprites.stand.left?C.right.pressed||"right"!==y||S.currentSprite===S.sprites.stand.right||(S.currentSprite=S.sprites.stand.right,S.currentCropWidth=S.sprites.stand.cropWidth,S.width=S.sprites.stand.width):(S.currentSprite=S.sprites.stand.left,S.currentCropWidth=S.sprites.stand.cropWidth,S.width=S.sprites.stand.width),E>5*m.width+300-2&&console.log("You won"),S.position.y>l.height&&O()}(),addEventListener("keydown",(function(t){switch(t.keyCode){case 65:console.log("left"),C.left.pressed=!0,y="left";break;case 83:console.log("down");break;case 68:console.log("right"),C.right.pressed=!0,y="right";break;case 87:console.log("up"),S.velocity.y-=15}})),addEventListener("keyup",(function(t){switch(t.keyCode){case 65:console.log("left"),C.left.pressed=!1;break;case 83:console.log("down");break;case 68:console.log("right"),C.right.pressed=!1;break;case 87:console.log("up")}}))}]);
//# sourceMappingURL=canvas.bundle.js.map